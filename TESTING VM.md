## tracemcast
tracemcast is used to listen to an interface recieving traffic and distribute it to a multicast group
- For this system there is no special capture card
	- So, tracemcast must be configured to listen directly from the kernel interface
	- This interface will typically have a name like *eth0*, *en0*, etc...
	- For the test system, the interface is *enp0s3*
- The initial multicast group that will be used for the system is the loopback interface, or *127.0.0.1*
- The command to start tracemcast as well as the expected output:

```bash
test@test-VirtualBox:~/testing$ sudo tracemcast -s 127.0.0.1 enp0s3
[sudo] password for test: 
Multicasting enp0s3 on 225.100.0.1:9999 from 127.0.0.1
Monitor ID is set to 0
```

## corsarotagger
corsarotagger is used "to read from a multicast group, tag traffic with additional metadata such as prefix2AS and IP geolocation, and redistribute in another multicast group a tagged version of the stream"

Needs a .yaml file for its configuration. The basic one that was put together for this testing system:
*Notice the inputuri is the same as what tracemcast designated as the multicast*
```yaml
# Example yaml config file "taggerconfig.yaml"
inputuri: "ndag:lo,225.100.0.1,9999"
basicfilter: "icmp or tcp or udp"
multicast:
  monitorid: 99
  beaconport: 8999
  groupaddr: 225.225.0.1
  sourceaddr: 127.0.0.2
  mtu: 1400
  ttl: 4
```
*Note: this config file does not include any specific tag-data providers that are supported by this tool (yet!!)*

The command to start corsarotagger as well as expected output:
```bash
test@test-VirtualBox:~/testing$ sudo corsarotagger -l terminal -c taggerconfig.yaml 
[sudo] password for test: 
[19:04:54.070] corsarotagger: using 2 processing threads
[19:04:54.070] corsarotagger: NOT writing loss statistics to a file
[19:04:54.070] corsarotagger: using constant ERF framing size of 18
[19:04:54.070] corsarotagger: applying BPF filter 'icmp or tcp or udp'
[19:04:54.070] corsarotagger: listening for new subscribers at ipc:///tmp/corsarotagger-control
[19:04:54:070] ipmeta_init: initializing libipmeta
[19:04:54:070] ipmeta_init: using datastore patricia
[19:04:54.078] corsarotagger: successfully started input trace ndag:lo,225.100.0.1,9999
Added new stream 225.100.0.1:36417 to thread 0
```
*Note: in this instance the log mode is set to terminal (-l terminal), this can be changed to a file, syslog or disabled by supplying other options to the -l flag*
-  *If logmode is set to file, a file must be provided in the config file as the "logfilename" option*


## corsarotrace
corsarotrace is used to run various plugins which read from the second multicast group (generated by corsarotagger). Examples of what it would be used for:
- Run plugin to generate timeseries, which can be sent to a Kaftka instance
- Run flowtuple plugin which will save data in special kind-of-flowlevel flowtuple format

Like corsarotagger, corsarotrace requires a .yaml file for its configuration. The basic one used for this testing system:

```yaml
outtemplate: "/home/test/testing/corsarotrace_output/analysis-%s-%N.%P.gz"
packetsource: "ndag:lo,225.225.0.1,8999"
```

## corsarowdcap (?)
## tracemcast
tracemcast is used to listen to an interface recieving traffic and distribute it to a multicast group
- For this system there is no special capture card
	- So, tracemcast must be configured to listen directly from the kernel interface
	- This interface will typically have a name like *eth0*, *en0*, etc...
	- For the test system, the interface is *enp0s3*
- The initial multicast group that will be used for the system is the loopback interface, or *127.0.0.1*
- The command to start tracemcast as well as the expected output:

```bash
test@test-VirtualBox:~/testing$ sudo tracemcast -s 127.0.0.1 enp0s3
[sudo] password for test: 
Multicasting enp0s3 on 225.100.0.1:9999 from 127.0.0.1
Monitor ID is set to 0
```

## corsarotagger
corsarotagger is used "to read from a multicast group, tag traffic with additional metadata such as prefix2AS and IP geolocation, and redistribute in another multicast group a tagged version of the stream"

Needs a .yaml file for its configuration. The basic one that was put together for this testing system:
*Notice the inputuri is the same as what tracemcast designated as the multicast*
```yaml
# Example yaml config file "taggerconfig.yaml"
inputuri: "ndag:lo,225.100.0.1,9999"
basicfilter: "icmp or tcp or udp"
multicast:
  monitorid: 99
  beaconport: 8999
  groupaddr: 225.225.0.1
  sourceaddr: 127.0.0.2
  mtu: 1400
  ttl: 4
```
*Note: this config file does not include any specific tag-data providers that are supported by this tool (yet!!)*

The command to start corsarotagger as well as expected output:
```bash
test@test-VirtualBox:~/testing$ sudo corsarotagger -l terminal -c taggerconfig.yaml 
[sudo] password for test: 
[19:04:54.070] corsarotagger: using 2 processing threads
[19:04:54.070] corsarotagger: NOT writing loss statistics to a file
[19:04:54.070] corsarotagger: using constant ERF framing size of 18
[19:04:54.070] corsarotagger: applying BPF filter 'icmp or tcp or udp'
[19:04:54.070] corsarotagger: listening for new subscribers at ipc:///tmp/corsarotagger-control
[19:04:54:070] ipmeta_init: initializing libipmeta
[19:04:54:070] ipmeta_init: using datastore patricia
[19:04:54.078] corsarotagger: successfully started input trace ndag:lo,225.100.0.1,9999
Added new stream 225.100.0.1:36417 to thread 0
```
*Note: in this instance the log mode is set to terminal (-l terminal), this can be changed to a file, syslog or disabled by supplying other options to the -l flag*
-  *If logmode is set to file, a file must be provided in the config file as the "logfilename" option*


## corsarotrace
corsarotrace is used to run various plugins which read from the second multicast group (generated by corsarotagger). Examples of what it would be used for:
- Run plugin to generate timeseries, which can be sent to a Kaftka instance
- Run flowtuple plugin which will save data in special kind-of-flowlevel flowtuple format

Like corsarotagger, corsarotrace requires a .yaml file for its configuration. The basic one used for this testing system:

```yaml
outtemplate: "/home/test/testing/corsarotrace_output/test-%Y%m%d-%H%M%S"
packetsource: "ndag:lo,225.200.0.100,8999"
controlsocketname: "tcp://127.0.0.2:6009"
plugins:
  - flowtuple:
      sorttuples: yes
```
The command to start corsarotagger as well as expected output:
```bash
test@test-VirtualBox:~/testing$ sudo corsarotrace -l terminal -c traceconfig.yaml 
[09:19:59.907] corsarotrace: enabling flowtuple plugin
[09:19:59.907] corsarotrace: running on monitor (null)
[09:19:59.907] corsarotrace: interval length is set to 60 seconds
[09:19:59.907] corsarotrace: rotating files every 4 intervals
[09:19:59.907] corsarotrace: packets are being read from ndag:lo,225.200.0.100,8999
[09:19:59.907] corsarotrace: connecting to corsarotagger control socket: tcp://127.0.0.2:6009
[09:19:59.907] corsarotrace: waiting for message from tagger control socket...
[09:19:59.908] corsarotrace: corsarotagger is using 2 tagger threads
[09:19:59.908] corsarotrace: flowtuple plugin: using 4 merging threads
[09:19:59.908] corsarotrace: flowtuple plugin: sorting flowtuples before output
[09:19:59.908] corsarotrace: flowtuple plugin: using deflate compression for avro output
```
*Note that this output could change drastically depending on what plugins are defined in the trace config file*

## Influxdb
Once Influxdb is installed on the system, its daemon should autorun when the system starts up. This can be verified with systemctl:
```bash
$ systemctl status influxdb
● influxdb.service - InfluxDB is an open-source, distributed, time series database
     Loaded: loaded (/lib/systemd/system/influxdb.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2021-08-09 11:24:22 CDT; 2min 7s ago
       Docs: https://docs.influxdata.com/influxdb/
   Main PID: 5641 (influxd)
      Tasks: 14 (limit: 9483)
     Memory: 19.5M
     CGroup: /system.slice/influxdb.service
             └─5641 /usr/bin/influxd -config /etc/influxdb/influxdb.conf
```
Assuming the instructions for installing/configuring influx in the 'INSTALLING PACKAGES'  folder were followed and the telegraf.conf file is up to date, there shouldn't be anything else that needs doing with influx. 

## Telegraf container
